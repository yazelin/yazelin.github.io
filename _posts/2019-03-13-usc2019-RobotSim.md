---
layout: post
title: "實踐大學 2019 - 機器手臂程式設計：從模擬到實機"
subtitle: "RobotSim 模擬 → WorkVisual 程式 → KUKA 實機操作"
tags: [教學, Unity, Robot, RobotSim, KUKA, KRL]
date: 2019-03-13
categories: [教學, RobotSim, KUKA]
---

![實踐大學 2019 - 機器手臂程式設計：從模擬到實機](https://github.com/yazelin/yazelin.github.io/releases/download/blog-images/2019-03-13-usc2019-RobotSim.png)

## 課程簡介

這是 2019 年在實踐大學開設的「機器手臂程式設計」課程，完整涵蓋從**模擬規劃到實機操作**的自動化專案流程。

### 課程設計理念

**目的：** 畢業 → 就業 → 創業
**方法：** 以實際專案進行的順序擬定大綱，依大綱依序學習必要技能

**專案流程：**
1. **前期規劃**：了解現況、如何以自動化替代人力、初步構想
2. **初步模擬**：流程設計、空間配置（避免干涉）
3. **實機測試**：硬體安裝、微調、軟體測試、重構
4. **建置完整系統**：周邊設備整合、整合測試、驗收

---

## 課程大綱

### 一、RobotSim 基礎（3/13）

```
千里之行 始於足下
一日之所需 百工斯為備
```

**學習內容：**
1. 課程大綱說明
2. 機器手臂基本介紹
3. RobotSim 環境及基本操作
   - 下載、安裝、試用
   - 教點、編寫程式、模擬動作
   - 設定 Tool（工具坐標）、更新點位
   - 設定 Base（基座坐標）、匯出程式
4. RobotSim 基礎程式
   - 變數 (Value)
   - 動作 (Motion)
   - 流程控制 (Flow)

**參考影片：**
- [下載-安裝-試用](https://www.youtube.com/watch?v=xv4v_fOwAC0&index=20&list=PLYLTPJkULAAZZuNW2s2tX-KWQOus7sAAo)
- [教點-程式-模擬](https://www.youtube.com/watch?v=4Gk7K88B10c&index=21&list=PLYLTPJkULAAZZuNW2s2tX-KWQOus7sAAo)
- [設定Tool-更新點位](https://www.youtube.com/watch?v=NLA6A_qWDgs&index=22&list=PLYLTPJkULAAZZuNW2s2tX-KWQOus7sAAo)
- [設定Base-匯出程式](https://www.youtube.com/watch?v=izkk5MW-FeY&index=23&list=PLYLTPJkULAAZZuNW2s2tX-KWQOus7sAAo)

---

### 二、RobotSim 專案制作（3/27）

```
昨日種種，皆成今我，切莫思量，更莫哀
從今往後，怎麼收穫，怎麼栽
```

**學習內容：**
1. RobotSim 完整專案
   - 自訂函式：顯示訊息功能
   - RobotSim 程式設計擴充：夾娃娃機專案
2. **RobotSim 匯出並匯入 WorkVisual 專案**
   - 從 Unity 模擬環境匯出 KUKA 程式
   - 在 WorkVisual 中編輯與調整
   - 準備實機測試

**參考教學：**
- [嘉南藥理大學 RobotSim 教學](https://yazelin.github.io/cnu2018-RobotSim/)

---

### 三、手臂操作訓練及 KRL 程式語言（4/10）

```
欲速則不達
慢慢來，比較快
```

**學習內容：**
1. **手臂安全及基本操作**
   - KUKA SmartPAD 教導器使用
   - 手動操作與安全規範
   - 急停與錯誤恢復
2. **WorkVisual KRL 程式語言**
   - 變數宣告與使用
   - 常用函式
   - 動作指令（PTP、LIN、CIRC）
   - 流程控制（IF、FOR、WHILE、SWITCH）
3. **實機測試**
   - 將 RobotSim 匯出的程式載入手臂
   - 實機驗證與調整

---

### 四、WtFramework 開發框架（4/24）

```
工欲善其事 必先利其器
```

**學習內容：**
1. **WtFramework 開發框架介紹**
   - Core：核心函式庫
   - Action：動作指令封裝
2. **安裝與設定**
3. **網路通訊**
   - **EKI (Ethernet KRL Interface)**：KUKA 網路通訊介面
   - Server 設定
   - TCP/IP 通訊協定
4. **實作練習**

---

### 五、自動化專案實作一（5/08）

```
滴水穿石，不是水多厲害，更不是石頭不厲害
而是時間太厲害
```

**學習內容：**
1. **網路通訊手臂 EKI**
   - Server 設定
   - EKI 通訊程式開發
2. **程式匯入至手臂**
3. **通訊測試**
   - 利用 CMD 進行測試
   - 利用 WinForm 程式進行測試

**專案架構：**
- **PC 端**：主控端，C# WinForm + TcpClient
- **Robot 端**：被控設備，KRL + TcpServer

---

### 六、自動化專案實作二（5/22）

```
種瓜得瓜 種豆得豆
種瓠仔 不會生菜瓜
```

**學習內容：**
1. **整合專案開發**
   - 整合 WtFramework
   - PC 端控制介面開發
   - Robot 端程式整合
2. **夾娃娃機完整專案**
   - 從 RobotSim 模擬到實機操作
   - PC 端遠端控制
   - 完整的自動化流程

---

## 課程特色

### 1. 完整的專案流程

從**模擬規劃**到**實機操作**，完整體驗自動化專案的開發流程：

```
RobotSim 模擬 → WorkVisual 程式開發 → 實機測試 → 網路整合 → 完整系統
```

### 2. 雙語言整合

- **Unity C#**：RobotSim 模擬環境開發
- **KUKA KRL**：機器手臂控制程式
- **C# WinForm**：PC 端控制介面

學習如何整合不同語言與平台，實現完整的自動化系統。

### 3. 理論與實作並重

- **理論基礎**：運動學、座標系統、程式設計
- **模擬驗證**：在 RobotSim 中驗證可行性
- **實機操作**：在真實的 KUKA 機器手臂上測試
- **網路整合**：PC 與機器手臂的通訊控制

### 4. 專案導向學習

以**夾娃娃機專案**貫穿整個課程：
1. RobotSim 中模擬夾娃娃機動作
2. 匯出程式至 WorkVisual
3. 實機測試與調整
4. 整合 EKI 網路控制
5. 完成 PC 端控制介面

---

## 學習成果

學生將學會：

1. **RobotSim 模擬系統**
   - Unity 環境操作
   - RobotCommand 程式設計
   - 專案規劃與模擬驗證

2. **KUKA 機器手臂操作**
   - SmartPAD 教導器使用
   - KRL 程式語言
   - 實機安全操作

3. **工業通訊整合**
   - EKI 網路通訊協定
   - TCP/IP Client/Server 架構
   - WtFramework 開發框架

4. **完整專案開發能力**
   - 從規劃到實機的完整流程
   - 多平台整合能力
   - 問題分析與解決能力

---

## 課程資源

**完整教學網站（中文）：**
[https://yazelin.github.io/usc2019-RobotSim/zh-tw/index](https://yazelin.github.io/usc2019-RobotSim/zh-tw/index)

**完整教學網站（English）：**
[https://yazelin.github.io/usc2019-RobotSim/en/index](https://yazelin.github.io/usc2019-RobotSim/en/index)

**GitHub 開源專案：**
[https://github.com/yazelin/usc2019-RobotSim](https://github.com/yazelin/usc2019-RobotSim)

**課程教材：**
- [1. RobotSim 基礎](https://yazelin.github.io/usc2019-RobotSim/zh-tw/1RobotSimBasic)
- [2. RobotSim 專案制作](https://yazelin.github.io/usc2019-RobotSim/zh-tw/2RobotSimProject)
- [3. KUKA Robot Language](https://yazelin.github.io/usc2019-RobotSim/zh-tw/3KukaRobotLanguage)
- [4. WtFramework 開發框架](https://yazelin.github.io/usc2019-RobotSim/zh-tw/4WtFramework)
- [5. 自動化專案實作一](https://yazelin.github.io/usc2019-RobotSim/zh-tw/5Project1)
- [6. 自動化專案實作二](https://yazelin.github.io/usc2019-RobotSim/zh-tw/6Project2)

**相關連結：**
- [RobotSim 技術詳解]({% post_url 2018-03-01-robotsim-unity-robot-simulation %})
- [YouTube Demo 影片集](https://www.youtube.com/playlist?list=PLYLTPJkULAAZZuNW2s2tX-KWQOus7sAAo)

---

**課程資訊**
- **學校**：實踐大學
- **課程名稱**：機器手臂程式設計
- **授課時間**：2019 年 3 月 - 5 月（共 6 週）
- **授課教師**：Yaze Lin
- **特色**：中英文雙語教材、從模擬到實機的完整流程
