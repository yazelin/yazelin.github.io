---
layout: post
title: "Jaba AI æŠ€è¡“åˆ†äº«ç³»åˆ—ï¼šå®Œæ•´ç›®éŒ„"
subtitle: "å¾å°ˆæ¡ˆæ•´åˆåˆ° AI å®‰å…¨ã€å¾æ¶æ§‹è¨­è¨ˆåˆ° LINE Bot é€²éšé–‹ç™¼"
date: 2025-12-19
categories: [Index]
tags: [Jaba AI, ç›®éŒ„, ç³»åˆ—æ–‡ç« , LINE Bot, FastAPI, Claude AI]
---

## é—œæ–¼é€™å€‹ç³»åˆ—

é€™æ˜¯ä¸€ç³»åˆ—é—œæ–¼ **Jaba AI** ç¾¤çµ„é»é¤ç³»çµ±é–‹ç™¼çš„æŠ€è¡“åˆ†äº«æ–‡ç« ã€‚Jaba AI æ•´åˆäº†åŸæœ¬çš„ [å‘·çˆ¸çœ‹æ¿ç³»çµ±]({% post_url 2025-12-08-jaba %}) èˆ‡ [Jaba LINE Bot]({% post_url 2025-12-09-jaba-line-bot %})ï¼Œé‡æ–°è¨­è¨ˆç‚ºçµ±ä¸€çš„å¾Œç«¯æ¶æ§‹ã€‚

<!-- TODO: åŠ å…¥ç³»çµ±æˆªåœ–æˆ–å±•ç¤ºå½±ç‰‡ -->

---

**ç³»çµ±ç‰¹è‰²ï¼š**

- ğŸ¤– è‡ªç„¶èªè¨€é»é¤ â€” ç›´æ¥èªªã€Œæˆ‘è¦é›è…¿ä¾¿ç•¶ã€å³å¯é»é¤
- ğŸ“¸ AI èœå–®è¾¨è­˜ â€” ä¸Šå‚³èœå–®åœ–ç‰‡ï¼Œè‡ªå‹•è¾¨è­˜å“é …èˆ‡åƒ¹æ ¼
- ğŸ”„ å³æ™‚çœ‹æ¿ â€” Socket.IO å³æ™‚æ›´æ–°è¨‚å–®ç‹€æ…‹
- ğŸ›¡ï¸ Prompt Injection é˜²è­· â€” å®Œæ•´çš„ AI å®‰å…¨æ©Ÿåˆ¶
- ğŸ‘¥ å¤šå±¤æ¬Šé™ç®¡ç† â€” è¶…ç®¡ã€ç¾¤çµ„ç®¡ç†å“¡ã€æˆå“¡ä¸‰å±¤æ¶æ§‹
- âš¡ å®Œå…¨éåŒæ­¥ â€” FastAPI + asyncio + asyncpg é«˜æ•ˆèƒ½è¨­è¨ˆ

ç¸½è¨ˆ **6 å€‹ç³»åˆ—ã€11 ç¯‡æ–‡ç« **ï¼Œé©åˆæƒ³äº†è§£ç¾ä»£ Python å¾Œç«¯é–‹ç™¼èˆ‡ AI æ•´åˆçš„å·¥ç¨‹å¸«åƒè€ƒã€‚

---

## å…ˆå‚™çŸ¥è­˜

åœ¨é–±è®€ç³»åˆ—æ–‡ç« ä¹‹å‰ï¼Œå»ºè­°å…ˆäº†è§£ä»¥ä¸‹åŸºç¤æ¦‚å¿µï¼š

| ä¸»é¡Œ | æ–‡ç«  | èªªæ˜ |
|------|------|------|
| LINE Bot åŸºç¤ | [LINE Bot é–‹ç™¼å…¥é–€ï¼šä»¥å‘·çˆ¸é»é¤ç³»çµ±ç‚ºä¾‹]({% post_url 2025-12-09-line-bot-guide %}) | Messaging APIã€Webhook åŸºç¤ |
| Claude AI åŸºç¤ | [æ¶æ§‹é¸æ“‡ï¼šClaude CLI æ•´åˆèˆ‡å°è©±è¨­è¨ˆ]({% post_url 2025-12-11-claude-ai-part1-architecture %}) | CLI vs APIã€å°è©±ç®¡ç† |
| Docker åŸºç¤ | [Docker åŸºç¤æ¦‚å¿µèˆ‡å¸¸ç”¨æŒ‡ä»¤]({% post_url 2025-12-13-docker-basics %}) | å®¹å™¨åŒ–åŸºç¤ |
| FastAPI + Socket.IO | [å¾Œç«¯æ¶æ§‹ï¼šFastAPI + Socket.IO é›™å‘é€šè¨Š]({% post_url 2025-12-11-web-terminal-part2-socketio %}) | å³æ™‚é€šè¨ŠåŸºç¤ |

---

## é–±è®€å»ºè­°

**å®Œæ•´å­¸ç¿’**ï¼š
1. å¾ç³»åˆ—ä¸€é–‹å§‹ï¼Œäº†è§£å°ˆæ¡ˆæ•´åˆçš„æ€è·¯
2. ç³»åˆ—äºŒæŒæ¡æ ¸å¿ƒæ¶æ§‹è¨­è¨ˆ
3. ç³»åˆ—ä¸‰ç†è§£ AI å®‰å…¨çš„é‡è¦æ€§
4. ä¾åºé–±è®€å¾ŒçºŒç³»åˆ—

**ç‰¹å®šéœ€æ±‚**ï¼š
- æƒ³å­¸æ¶æ§‹è¨­è¨ˆ â†’ ç›´æ¥çœ‹ç³»åˆ—äºŒ
- æƒ³åš AI å®‰å…¨é˜²è­· â†’ ç›´æ¥çœ‹ç³»åˆ—ä¸‰
- æƒ³æ•´åˆ LINE Bot v3 SDK â†’ ç›´æ¥çœ‹ç³»åˆ—å››
- æƒ³å¯¦ä½œ AI åŠŸèƒ½ â†’ ç›´æ¥çœ‹ç³»åˆ—äº”

---

## ç³»åˆ—ä¸€ï¼šå°ˆæ¡ˆé‡æ§‹ä¹‹è·¯

> å¾å…©å€‹ç¨ç«‹å°ˆæ¡ˆæ•´åˆç‚ºçµ±ä¸€å¾Œç«¯çš„å¿ƒè·¯æ­·ç¨‹

| # | æ–‡ç«  | é‡é» |
|---|------|------|
| 1 | [å¾ jaba + jaba-line-bot åˆ° jaba-aiï¼šå°ˆæ¡ˆæ•´åˆå¯¦æˆ°]({% post_url 2025-12-20-jaba-ai-part1-integration %}) | æ•´åˆå‹•æ©Ÿã€æ¶æ§‹æ±ºç­–ã€è¸©éçš„å‘ |

**é€™ç¯‡æœƒè«‡åˆ°ï¼š**
- ç‚ºä»€éº¼è¦æ•´åˆï¼Ÿåˆ†æ•£æ¶æ§‹çš„ç—›é»
- çµ±ä¸€å¾Œç«¯çš„å¥½è™•èˆ‡å–æ¨
- è³‡æ–™åº« Schema é‡æ–°è¨­è¨ˆ
- API è·¯ç”±è¦åŠƒæ€è·¯

---

## ç³»åˆ—äºŒï¼šå¾Œç«¯æ¶æ§‹è¨­è¨ˆ

> Repository Pattern èˆ‡äº‹ä»¶é©…å‹•æ¶æ§‹å¯¦æˆ°

| # | æ–‡ç«  | é‡é» |
|---|------|------|
| 1 | [Repository Pattern å¯¦ä½œï¼šè®“è³‡æ–™å±¤ä¹¾æ·¨åˆ†é›¢]({% post_url 2025-12-21-jaba-ai-part2-repository %}) | åˆ†å±¤æ¶æ§‹ã€Generic CRUDã€ä¾è³´æ³¨å…¥ |
| 2 | [äº‹ä»¶éšŠåˆ—è¨­è¨ˆï¼šè§£æ±º Socket.IO èˆ‡ DB Commit é †åºå•é¡Œ]({% post_url 2025-12-21-jaba-ai-part3-event-queue %}) | ContextVarã€äº‹å‹™åŒ–é€šçŸ¥ã€ä¸€è‡´æ€§ä¿è­‰ |

**é€™ç³»åˆ—æœƒè«‡åˆ°ï¼š**
- Service â†’ Repository â†’ Model ä¸‰å±¤æ¶æ§‹
- ç‚ºä»€éº¼ä¸ç›´æ¥åœ¨ Service å¯« SQLï¼Ÿ
- å‰ç«¯æ”¶åˆ°é€šçŸ¥ä½† fetch ä¸åˆ°è³‡æ–™çš„ç¶“å…¸å•é¡Œ
- `commit_and_notify()` æ¨¡å¼çš„è¨­è¨ˆ

---

## ç³»åˆ—ä¸‰ï¼šAI å®‰å…¨èˆ‡ç›£æ§

> ç•¶ AI é‡ä¸Šæƒ¡æ„è¼¸å…¥ï¼Œå¦‚ä½•ä¿è­·ç³»çµ±ï¼Ÿ

| # | æ–‡ç«  | é‡é» |
|---|------|------|
| 1 | [Prompt Injection é˜²è­·å¯¦ä½œ]({% post_url 2025-12-22-jaba-ai-part4-prompt-injection %}) | è¼¸å…¥æ¶ˆæ¯’ã€è¦å‰‡æª¢æ¸¬ã€å®‰å…¨æ—¥èªŒ |
| 2 | [AI æ—¥èªŒç³»çµ±ï¼šè¿½è¹¤æ¯ä¸€æ¬¡å°è©±]({% post_url 2025-12-22-jaba-ai-part5-ai-logging %}) | å°è©±è¨˜éŒ„ã€Token çµ±è¨ˆã€ç•°å¸¸åˆ†æ |

**é€™ç³»åˆ—æœƒè«‡åˆ°ï¼š**
- å¸¸è¦‹çš„ Prompt Injection æ”»æ“Šæ‰‹æ³•
- å¤šå±¤é˜²è­·ç­–ç•¥ï¼šè¼¸å…¥æ¸…ç† + è¦å‰‡æª¢æ¸¬ + è¼¸å‡ºé©—è­‰
- ç‚ºä»€éº¼éœ€è¦è¨˜éŒ„æ¯ä¸€æ¬¡ AI å°è©±ï¼Ÿ
- å¾æ—¥èªŒä¸­ç™¼ç¾æ½›åœ¨å•é¡Œ

---

## ç³»åˆ—å››ï¼šLINE Bot é€²éšé–‹ç™¼

> å¾å…¥é–€åˆ°é€²éšï¼ŒFastAPI + LINE Bot SDK v3

| # | æ–‡ç«  | é‡é» |
|---|------|------|
| 1 | [LINE Bot v3 SDK + FastAPI éåŒæ­¥æ•´åˆ]({% post_url 2025-12-23-jaba-ai-part6-linebot-v3 %}) | SDK v3 å·®ç•°ã€éåŒæ­¥è™•ç†ã€ç°½ç« é©—è­‰ |
| 2 | [LINE ç¾¤çµ„æ¬Šé™è¨­è¨ˆï¼šå¾ç”³è«‹åˆ°å¯©æ ¸çš„å®Œæ•´æµç¨‹]({% post_url 2025-12-23-jaba-ai-part7-group-permission %}) | ç”³è«‹æµç¨‹ã€å¯©æ ¸æ©Ÿåˆ¶ã€ç‹€æ…‹æ©Ÿè¨­è¨ˆ |

**é€™ç³»åˆ—æœƒè«‡åˆ°ï¼š**
- LINE Bot SDK v3 èˆ‡ v2 çš„å·®ç•°
- FastAPI éåŒæ­¥è™•ç† Webhook äº‹ä»¶
- ç¾¤çµ„ç”³è«‹ â†’ å¯©æ ¸ â†’ å•Ÿç”¨çš„å®Œæ•´æµç¨‹
- ä¸‰å±¤æ¬Šé™æ¨¡å‹çš„å¯¦ä½œ

---

## ç³»åˆ—äº”ï¼šAI æ‡‰ç”¨å¯¦æˆ°

> è‡ªç„¶èªè¨€é»é¤èˆ‡èœå–®åœ–ç‰‡è¾¨è­˜

| # | æ–‡ç«  | é‡é» |
|---|------|------|
| 1 | [è‡ªç„¶èªè¨€é»é¤ï¼šå¾ä½¿ç”¨è€…è¼¸å…¥åˆ°è¨‚å–®å»ºç«‹]({% post_url 2025-12-24-jaba-ai-part8-natural-language %}) | æ„åœ–è§£æã€ä¸Šä¸‹æ–‡ç†è§£ã€è·Ÿå–®åŠŸèƒ½ |
| 2 | [èœå–®åœ–ç‰‡ AI è¾¨è­˜ï¼šä¸Šå‚³ç…§ç‰‡è‡ªå‹•å»ºç«‹èœå–®]({% post_url 2025-12-24-jaba-ai-part9-menu-ocr %}) | åœ–ç‰‡è™•ç†ã€Claude Visionã€çµæ§‹åŒ–è¼¸å‡º |

**é€™ç³»åˆ—æœƒè«‡åˆ°ï¼š**
- å¦‚ä½•è®“ AI ç†è§£ã€Œæˆ‘ä¹Ÿè¦ã€ã€ã€Œ+1ã€ã€ã€Œå¹«å°æ˜é»ã€
- å°è©±ä¸Šä¸‹æ–‡çš„ç¶­è­·ç­–ç•¥
- èœå–®åœ–ç‰‡çš„é è™•ç†
- å¦‚ä½•è®“ AI è¼¸å‡ºçµæ§‹åŒ–çš„èœå–®è³‡æ–™

---

## ç³»åˆ—å…­ï¼šéƒ¨ç½²èˆ‡é‹ç¶­

> ä¸€éµå•Ÿå‹•ã€æœå‹™ç®¡ç†ã€ç”Ÿç”¢ç’°å¢ƒé…ç½®

| # | æ–‡ç«  | é‡é» |
|---|------|------|
| 1 | [ä¸€éµå•Ÿå‹•è…³æœ¬è¨­è¨ˆï¼šè®“é–‹ç™¼è€…å’Œç¶­é‹äººå“¡éƒ½èƒ½è¼•é¬†å•Ÿå‹•æœå‹™]({% post_url 2025-12-25-jaba-ai-part10-deploy-script %}) | Shell è…³æœ¬ã€åƒæ•¸è™•ç†ã€éŒ¯èª¤è™•ç† |
| 2 | [systemd æœå‹™é…ç½®ï¼šè®“æ‡‰ç”¨ç¨‹å¼é–‹æ©Ÿè‡ªå‹•å•Ÿå‹•ã€ç•¶æ©Ÿè‡ªå‹•é‡å•Ÿ]({% post_url 2025-12-25-jaba-ai-part11-systemd %}) | æœå‹™å®šç¾©ã€è‡ªå‹•é‡å•Ÿã€æ—¥èªŒç®¡ç† |

**é€™ç³»åˆ—æœƒè«‡åˆ°ï¼š**
- å•Ÿå‹•è…³æœ¬çš„è¨­è¨ˆå“²å­¸
- `--db-only`ã€`--app-only`ã€`--migrate` ç­‰åƒæ•¸è¨­è¨ˆ
- systemd service æª”æ¡ˆæ’°å¯«
- journalctl æ—¥èªŒæŸ¥çœ‹æŠ€å·§

---

## æŠ€è¡“æ£§ç¸½è¦½

| å±¤ç´š | æŠ€è¡“ |
|------|------|
| **å¾Œç«¯æ¡†æ¶** | FastAPIã€Uvicornã€python-socketio |
| **è³‡æ–™åº«** | PostgreSQL 16ã€SQLAlchemy 2.0 (Async)ã€asyncpg |
| **è³‡æ–™åº«é·ç§»** | Alembic |
| **LINE æ•´åˆ** | LINE Bot SDK v3ã€Messaging API |
| **AI å¼•æ“** | Claude (Anthropic API)ã€Claude Code CLI |
| **å³æ™‚é€šè¨Š** | Socket.IO |
| **æ’ç¨‹ä»»å‹™** | APScheduler |
| **å¥—ä»¶ç®¡ç†** | uv |
| **å®¹å™¨åŒ–** | Docker Compose |
| **æœå‹™ç®¡ç†** | systemd |

---

## å°ˆæ¡ˆçµæ§‹

```
jaba-ai/
â”œâ”€â”€ app/                          # æ‡‰ç”¨ç¨‹å¼æ ¸å¿ƒ
â”‚   â”œâ”€â”€ models/                   # SQLAlchemy Models (18 å€‹)
â”‚   â”œâ”€â”€ repositories/             # Repository Pattern è³‡æ–™å­˜å–å±¤
â”‚   â”œâ”€â”€ services/                 # æ¥­å‹™é‚è¼¯å±¤
â”‚   â”œâ”€â”€ routers/                  # API è·¯ç”±å±¤
â”‚   â”œâ”€â”€ broadcast.py              # äº‹ä»¶éšŠåˆ—èˆ‡ Socket.IO å»£æ’­
â”‚   â”œâ”€â”€ config.py                 # ç’°å¢ƒè®Šæ•¸ç®¡ç†
â”‚   â””â”€â”€ database.py               # éåŒæ­¥è³‡æ–™åº«é€£ç·š
â”‚
â”œâ”€â”€ migrations/                   # Alembic è³‡æ–™åº«é·ç§»
â”œâ”€â”€ static/                       # å‰ç«¯é é¢ (admin, board, line-admin)
â”œâ”€â”€ scripts/                      # éƒ¨ç½²è…³æœ¬ (start.sh, systemd)
â”œâ”€â”€ docs/                         # è©³ç´°æ–‡ä»¶
â”œâ”€â”€ openspec/                     # OpenSpec è¦æ ¼ç®¡ç†
â”‚
â”œâ”€â”€ main.py                       # FastAPI æ‡‰ç”¨ç¨‹å¼å…¥å£
â”œâ”€â”€ pyproject.toml                # å°ˆæ¡ˆä¾è³´é…ç½®
â”œâ”€â”€ docker-compose.yml            # PostgreSQL å®¹å™¨é…ç½®
â””â”€â”€ CLAUDE.md                     # Claude Code å°ˆæ¡ˆæŒ‡å¼•
```

---

## ç›¸é—œå°ˆæ¡ˆæ–‡ç« 

é€™å€‹ç³»åˆ—æ˜¯ Jaba é»é¤ç³»çµ±çš„ç¬¬ä¸‰ä»£æ¼”é€²ï¼Œç›¸é—œæ–‡ç« ï¼š

| å°ˆæ¡ˆ | æ–‡ç«  | èªªæ˜ |
|------|------|------|
| Jaba çœ‹æ¿ | [å‘·çˆ¸ jaba - é€é LINE ç¾¤çµ„è¼•é¬†è¨‚é¤]({% post_url 2025-12-08-jaba %}) | ç¬¬ä¸€ä»£ï¼šç´”çœ‹æ¿ç³»çµ± |
| Jaba LINE Bot | [Jaba LINE Bot - è®“é»é¤å°è©±é€²å…¥ LINE]({% post_url 2025-12-09-jaba-line-bot %}) | ç¬¬äºŒä»£ï¼šLINE Bot æ•´åˆ |
| **Jaba AI** | æœ¬ç³»åˆ—æ–‡ç«  | ç¬¬ä¸‰ä»£ï¼šAI é©…å‹•çš„çµ±ä¸€å¾Œç«¯ |

---

## åƒè€ƒè³‡æº

### å®˜æ–¹æ–‡ä»¶

- [FastAPI](https://fastapi.tiangolo.com/)
- [SQLAlchemy 2.0](https://docs.sqlalchemy.org/en/20/)
- [LINE Messaging API](https://developers.line.biz/en/docs/messaging-api/)
- [LINE Bot SDK Python](https://github.com/line/line-bot-sdk-python)
- [Anthropic Claude API](https://docs.anthropic.com/)

### ç›¸é—œå·¥å…·

- [Claude Code](https://docs.anthropic.com/en/docs/claude-code) - Anthropic å®˜æ–¹ CLI
- [uv](https://docs.astral.sh/uv/) - æ¥µé€Ÿ Python å¥—ä»¶ç®¡ç†å™¨
- [Alembic](https://alembic.sqlalchemy.org/) - è³‡æ–™åº«é·ç§»å·¥å…·

---

Happy Coding!
